{"ast":null,"code":"import * as types from '../constants/ActionTypes'; //import _products from './../api/products.json'\n\nvar receiveProducts = function receiveProducts(products) {\n  return {\n    type: types.RECEIVE_PRODUCTS,\n    products: products\n  };\n};\n\nexport var getAllProducts = function getAllProducts() {\n  return function (dispatch) {\n    var loc = {};\n    var google = window.google;\n    var geocoder = new google.maps.Geocoder();\n\n    if (google.loader.ClientLocation) {\n      loc.lat = google.loader.ClientLocation.latitude;\n      loc.lng = google.loader.ClientLocation.longitude;\n      var latlng = new google.maps.LatLng(loc.lat, loc.lng);\n      geocoder.geocode({\n        'latLng': latlng\n      }, function (results, status) {\n        if (status == google.maps.GeocoderStatus.OK) {\n          alert(results[0]['formatted_address']);\n        }\n\n        ;\n      });\n    }\n\n    fetch(\"https://ww4.cuponatic.com/get?c=Santiago&latitud=-33.45774340&longitud=-70.65735780&\").then(function (response) {\n      return response.json();\n    }, function (error) {\n      return console.log('An error occurred.', error);\n    }).then(function (json) {\n      return dispatch(receiveProducts(json));\n    });\n  };\n};\n\nvar chooseTypeSearchUnsafe = function chooseTypeSearchUnsafe(typechoose) {\n  return {\n    type: types.CHOOSE_TYPE_SEARCH,\n    typechoose: typechoose\n  };\n};\n\nexport var chooseTypeSearch = function chooseTypeSearch(type) {\n  return function (dispatch) {\n    dispatch(chooseTypeSearchUnsafe(type));\n  };\n};\n\nvar addToCartUnsafe = function addToCartUnsafe(productId) {\n  return {\n    type: types.ADD_TO_CART,\n    productId: productId\n  };\n};\n\nexport var addToCart = function addToCart(productId) {\n  return function (dispatch) {\n    dispatch(addToCartUnsafe(productId));\n  };\n};\n\nvar deleteToCartUnsafe = function deleteToCartUnsafe(productId) {\n  return {\n    type: types.DELETE_TO_CART,\n    productId: productId\n  };\n};\n\nexport var deleteToCart = function deleteToCart(productId) {\n  return function (dispatch) {\n    dispatch(deleteToCartUnsafe(productId));\n  };\n};\nexport var checkout = function checkout(products) {\n  return function (dispatch) {\n    dispatch({\n      type: types.CHECKOUT_REQUEST\n    });\n  };\n};","map":{"version":3,"sources":["C:\\proyectos\\cuponatic\\shopping-cart\\src\\actions\\index.js"],"names":["types","receiveProducts","products","type","RECEIVE_PRODUCTS","getAllProducts","dispatch","loc","google","window","geocoder","maps","Geocoder","loader","ClientLocation","lat","latitude","lng","longitude","latlng","LatLng","geocode","results","status","GeocoderStatus","OK","alert","fetch","then","response","json","error","console","log","chooseTypeSearchUnsafe","typechoose","CHOOSE_TYPE_SEARCH","chooseTypeSearch","addToCartUnsafe","productId","ADD_TO_CART","addToCart","deleteToCartUnsafe","DELETE_TO_CART","deleteToCart","checkout","CHECKOUT_REQUEST"],"mappings":"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","sourcesContent":["import * as types from '../constants/ActionTypes'\r\n//import _products from './../api/products.json'\r\n\r\nconst receiveProducts = products => ({\r\n  type: types.RECEIVE_PRODUCTS,\r\n  products\r\n})\r\n\r\n\r\nexport const  getAllProducts =  () => dispatch => {\r\n\r\n  var loc = {};\r\n  const google = window.google;\r\n  var geocoder = new google.maps.Geocoder();\r\n  if(google.loader.ClientLocation) {\r\n      loc.lat = google.loader.ClientLocation.latitude;\r\n      loc.lng = google.loader.ClientLocation.longitude;\r\n\r\n      var latlng = new google.maps.LatLng(loc.lat, loc.lng);\r\n      geocoder.geocode({'latLng': latlng}, function(results, status) {\r\n          if(status == google.maps.GeocoderStatus.OK) {\r\n              alert(results[0]['formatted_address']);\r\n          };\r\n      });\r\n  }\r\n\r\n  \r\n    fetch(\"https://ww4.cuponatic.com/get?c=Santiago&latitud=-33.45774340&longitud=-70.65735780&\")\r\n     .then(\r\n        response => response.json(),\r\n        error => console.log('An error occurred.', error)\r\n      )\r\n     .then(json =>\r\n          dispatch(receiveProducts(json))\r\n     )\r\n}\r\n\r\nconst chooseTypeSearchUnsafe = typechoose => ({\r\n  type: types.CHOOSE_TYPE_SEARCH,\r\n  typechoose\r\n})\r\n\r\nexport const chooseTypeSearch = type => (dispatch) => {\r\n    dispatch(chooseTypeSearchUnsafe(type))\r\n}\r\n\r\nconst addToCartUnsafe = productId => ({\r\n  type: types.ADD_TO_CART,\r\n  productId\r\n})\r\n\r\nexport const addToCart = productId => (dispatch) => {\r\n    dispatch(addToCartUnsafe(productId));\r\n}\r\n\r\nconst deleteToCartUnsafe = productId => ({\r\n  type: types.DELETE_TO_CART,\r\n  productId\r\n})\r\n\r\nexport const deleteToCart = productId => (dispatch) => {\r\n  dispatch(deleteToCartUnsafe(productId))\r\n}\r\n\r\n\r\nexport const checkout = products => (dispatch) => {\r\n  dispatch({\r\n    type: types.CHECKOUT_REQUEST\r\n  })\r\n \r\n}\r\n"]},"metadata":{},"sourceType":"module"}