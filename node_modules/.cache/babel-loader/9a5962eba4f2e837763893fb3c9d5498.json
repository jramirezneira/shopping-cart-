{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\proyectos\\\\cuponatic\\\\shopping-cart\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\proyectos\\\\cuponatic\\\\shopping-cart\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport * as types from '../constants/ActionTypes';\n\nvar receiveProducts = function receiveProducts(products) {\n  return {\n    type: types.RECEIVE_PRODUCTS,\n    products: products\n  };\n};\n/*\r\nvar options = {\r\n  enableHighAccuracy: true,\r\n  timeout: 5000,\r\n  maximumAge: 0\r\n};\r\n\r\nfunction success(pos) {\r\n  var crd = pos.coords;\r\n\r\n  console.log('Your current position is:');\r\n  console.log('Latitude : ' + crd.latitude);\r\n  console.log('Longitude: ' + crd.longitude);\r\n  console.log('More or less ' + crd.accuracy + ' meters.');\r\n};\r\n\r\nfunction error(err) {\r\n  console.warn('ERROR(' + err.code + '): ' + err.message);\r\n};\r\n*/\n\n\nexport var getGeolocation = function getGeolocation() {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(dispatch) {\n        var geolocation;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                geolocation = navigator.geolocation;\n                geolocation.getCurrentPosition(function (position) {\n                  dispatch({\n                    type: GET_GEOLOCATION,\n                    payload: position.coords\n                  });\n                }, function (error) {\n                  if (error.code === 1) {\n                    dispatch({\n                      type: GEOLOCATION_DENIED,\n                      payload: false\n                    });\n                  }\n                });\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var getAllProducts = function getAllProducts() {\n  return function (dispatch) {\n    console.log(\"pasa\");\n    var gg = getLocation();\n    fetch(\"https://ww4.cuponatic.com/get?c=Santiago&latitud=-33.45774340&longitud=-70.65735780&\").then(function (response) {\n      return response.json();\n    }, function (error) {\n      return console.log('An error occurred.', error);\n    }).then(function (json) {\n      return dispatch(receiveProducts(json));\n    });\n  };\n};\n\nvar chooseTypeSearchUnsafe = function chooseTypeSearchUnsafe(typechoose) {\n  return {\n    type: types.CHOOSE_TYPE_SEARCH,\n    typechoose: typechoose\n  };\n};\n\nexport var chooseTypeSearch = function chooseTypeSearch(type) {\n  return function (dispatch) {\n    dispatch(chooseTypeSearchUnsafe(type));\n  };\n};\n\nvar addToCartUnsafe = function addToCartUnsafe(productId) {\n  return {\n    type: types.ADD_TO_CART,\n    productId: productId\n  };\n};\n\nexport var addToCart = function addToCart(productId) {\n  return function (dispatch) {\n    dispatch(addToCartUnsafe(productId));\n  };\n};\n\nvar deleteToCartUnsafe = function deleteToCartUnsafe(productId) {\n  return {\n    type: types.DELETE_TO_CART,\n    productId: productId\n  };\n};\n\nexport var deleteToCart = function deleteToCart(productId) {\n  return function (dispatch) {\n    dispatch(deleteToCartUnsafe(productId));\n  };\n};\nexport var checkout = function checkout(products) {\n  return function (dispatch) {\n    dispatch({\n      type: types.CHECKOUT_REQUEST\n    });\n  };\n};","map":{"version":3,"sources":["C:\\proyectos\\cuponatic\\shopping-cart\\src\\actions\\index.js"],"names":["types","receiveProducts","products","type","RECEIVE_PRODUCTS","getGeolocation","dispatch","geolocation","navigator","getCurrentPosition","position","GET_GEOLOCATION","payload","coords","error","code","GEOLOCATION_DENIED","getAllProducts","console","log","gg","getLocation","fetch","then","response","json","chooseTypeSearchUnsafe","typechoose","CHOOSE_TYPE_SEARCH","chooseTypeSearch","addToCartUnsafe","productId","ADD_TO_CART","addToCart","deleteToCartUnsafe","DELETE_TO_CART","deleteToCart","checkout","CHECKOUT_REQUEST"],"mappings":"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","sourcesContent":["import * as types from '../constants/ActionTypes'\r\n\r\n\r\nconst receiveProducts = products => ({\r\n  type: types.RECEIVE_PRODUCTS,\r\n  products\r\n})\r\n/*\r\nvar options = {\r\n  enableHighAccuracy: true,\r\n  timeout: 5000,\r\n  maximumAge: 0\r\n};\r\n\r\nfunction success(pos) {\r\n  var crd = pos.coords;\r\n\r\n  console.log('Your current position is:');\r\n  console.log('Latitude : ' + crd.latitude);\r\n  console.log('Longitude: ' + crd.longitude);\r\n  console.log('More or less ' + crd.accuracy + ' meters.');\r\n};\r\n\r\nfunction error(err) {\r\n  console.warn('ERROR(' + err.code + '): ' + err.message);\r\n};\r\n*/\r\n\r\n  export const getGeolocation = () => async dispatch => \r\n  { \r\n      const geolocation = navigator.geolocation; \r\n      geolocation.getCurrentPosition ( position => \r\n      { \r\n        dispatch({ type: GET_GEOLOCATION, payload: position.coords });     \r\n      }, error => \r\n      { \r\n        if (error.code === 1) \r\n        { \r\n            dispatch({ type: GEOLOCATION_DENIED, payload: false }); \r\n        } \r\n      } \r\n      ); \r\n  };\r\n\r\n\r\n\r\nexport const  getAllProducts =  () => dispatch => {\r\n\r\n    console.log(\"pasa\");\r\n    let gg = getLocation();\r\n    fetch(\"https://ww4.cuponatic.com/get?c=Santiago&latitud=-33.45774340&longitud=-70.65735780&\")\r\n     .then(\r\n        response => response.json(),\r\n        error => console.log('An error occurred.', error)\r\n      )\r\n     .then(json =>\r\n          dispatch(receiveProducts(json))\r\n     )\r\n}\r\n\r\nconst chooseTypeSearchUnsafe = typechoose => ({\r\n  type: types.CHOOSE_TYPE_SEARCH,\r\n  typechoose\r\n})\r\n\r\nexport const chooseTypeSearch = type => (dispatch) => {\r\n    dispatch(chooseTypeSearchUnsafe(type))\r\n}\r\n\r\nconst addToCartUnsafe = productId => ({\r\n  type: types.ADD_TO_CART,\r\n  productId\r\n})\r\n\r\nexport const addToCart = productId => (dispatch) => {\r\n    dispatch(addToCartUnsafe(productId));\r\n}\r\n\r\nconst deleteToCartUnsafe = productId => ({\r\n  type: types.DELETE_TO_CART,\r\n  productId\r\n})\r\n\r\nexport const deleteToCart = productId => (dispatch) => {\r\n  dispatch(deleteToCartUnsafe(productId))\r\n}\r\n\r\n\r\nexport const checkout = products => (dispatch) => {\r\n  dispatch({\r\n    type: types.CHECKOUT_REQUEST\r\n  })\r\n \r\n}\r\n"]},"metadata":{},"sourceType":"module"}