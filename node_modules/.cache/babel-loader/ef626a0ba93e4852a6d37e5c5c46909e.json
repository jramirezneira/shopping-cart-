{"ast":null,"code":"import _objectSpread from \"C:\\\\proyectos\\\\cuponatic\\\\shopping-cart\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport { combineReducers } from 'redux';\nimport { RECEIVE_PRODUCTS, CHOOSE_TYPE_SEARCH, GET_LOCATION } from '../constants/ActionTypes';\n\nvar byTypes = function byTypes() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case CHOOSE_TYPE_SEARCH:\n      return _objectSpread({}, state, {\n        type: action.typechoose\n      });\n\n    case GET_LOCATION:\n      return _objectSpread({}, state, {\n        type: action.position\n      });\n\n    default:\n      return state;\n  }\n}; //type: types.GET_LOCATION,\n//payload: position\n\n\nvar byId = function byId() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case RECEIVE_PRODUCTS:\n      return _objectSpread({}, state, action.products.reduce(function (obj, product) {\n        obj[product.id_descuento] = product;\n        return obj;\n      }, {}));\n\n    default:\n      return state;\n  }\n};\n\nvar visibleIds = function visibleIds() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case RECEIVE_PRODUCTS:\n      return action.products.map(function (product) {\n        return product.id_descuento;\n      });\n\n    default:\n      return state;\n  }\n};\n\nexport default combineReducers({\n  byId: byId,\n  visibleIds: visibleIds,\n  byTypes: byTypes\n});\nexport var getProduct = function getProduct(state, id) {\n  return state.byId[id];\n};\nexport var getType = function getType(state) {\n  return state.products.byTypes.type !== undefined ? state.products.byTypes.type : null;\n};\nexport var getVisibleProducts = function getVisibleProducts(state) {\n  return state.visibleIds.map(function (id) {\n    return getProduct(state, id);\n  });\n};","map":{"version":3,"sources":["C:\\proyectos\\cuponatic\\shopping-cart\\src\\reducers\\products.js"],"names":["combineReducers","RECEIVE_PRODUCTS","CHOOSE_TYPE_SEARCH","GET_LOCATION","byTypes","state","action","type","typechoose","position","byId","products","reduce","obj","product","id_descuento","visibleIds","map","getProduct","id","getType","undefined","getVisibleProducts"],"mappings":";AAAA,SAASA,eAAT,QAAgC,OAAhC;AACA,SAASC,gBAAT,EAA2BC,kBAA3B,EAA+CC,YAA/C,QAAmE,0BAAnE;;AAGA,IAAMC,OAAO,GAAG,SAAVA,OAAU,GAAwB;AAAA,MAAvBC,KAAuB,uEAAf,EAAe;AAAA,MAAXC,MAAW;;AACpC,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKL,kBAAL;AACA,+BACOG,KADP;AAEKE,QAAAA,IAAI,EAACD,MAAM,CAACE;AAFjB;;AAIA,SAAKL,YAAL;AACE,+BACOE,KADP;AAEKE,QAAAA,IAAI,EAACD,MAAM,CAACG;AAFjB;;AAIF;AACI,aAAOJ,KAAP;AAZR;AAcH,CAfD,C,CAkBA;AACA;;;AAEA,IAAMK,IAAI,GAAG,SAAPA,IAAO,GAAwB;AAAA,MAAvBL,KAAuB,uEAAf,EAAe;AAAA,MAAXC,MAAW;;AACnC,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKN,gBAAL;AACE,+BACKI,KADL,EAEKC,MAAM,CAACK,QAAP,CAAgBC,MAAhB,CAAuB,UAACC,GAAD,EAAMC,OAAN,EAAkB;AAC1CD,QAAAA,GAAG,CAACC,OAAO,CAACC,YAAT,CAAH,GAA4BD,OAA5B;AACA,eAAOD,GAAP;AACD,OAHE,EAGA,EAHA,CAFL;;AAOF;AAEE,aAAOR,KAAP;AAXJ;AAaD,CAdD;;AAgBA,IAAMW,UAAU,GAAG,SAAbA,UAAa,GAAwB;AAAA,MAAvBX,KAAuB,uEAAf,EAAe;AAAA,MAAXC,MAAW;;AAEzC,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKN,gBAAL;AACE,aAAOK,MAAM,CAACK,QAAP,CAAgBM,GAAhB,CAAoB,UAAAH,OAAO;AAAA,eAAIA,OAAO,CAACC,YAAZ;AAAA,OAA3B,CAAP;;AACF;AACE,aAAOV,KAAP;AAJJ;AAMD,CARD;;AAUA,eAAeL,eAAe,CAAC;AAACU,EAAAA,IAAI,EAAJA,IAAD;AAAOM,EAAAA,UAAU,EAAVA,UAAP;AAAoBZ,EAAAA,OAAO,EAAPA;AAApB,CAAD,CAA9B;AAEA,OAAO,IAAMc,UAAU,GAAG,SAAbA,UAAa,CAACb,KAAD,EAAQc,EAAR;AAAA,SAAed,KAAK,CAACK,IAAN,CAAWS,EAAX,CAAf;AAAA,CAAnB;AAEP,OAAO,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAACf,KAAD;AAAA,SAAWA,KAAK,CAACM,QAAN,CAAeP,OAAf,CAAuBG,IAAvB,KAAgCc,SAAhC,GAA4ChB,KAAK,CAACM,QAAN,CAAeP,OAAf,CAAuBG,IAAnE,GAAwE,IAAnF;AAAA,CAAhB;AAEP,OAAO,IAAMe,kBAAkB,GAAG,SAArBA,kBAAqB,CAAAjB,KAAK;AAAA,SACrCA,KAAK,CAACW,UAAN,CAAiBC,GAAjB,CAAqB,UAAAE,EAAE;AAAA,WAAID,UAAU,CAACb,KAAD,EAAQc,EAAR,CAAd;AAAA,GAAvB,CADqC;AAAA,CAAhC","sourcesContent":["import { combineReducers } from 'redux'\r\nimport { RECEIVE_PRODUCTS, CHOOSE_TYPE_SEARCH, GET_LOCATION } from '../constants/ActionTypes'\r\n\r\n\r\nconst byTypes = (state = {}, action) => {\r\n    switch (action.type) {\r\n        case CHOOSE_TYPE_SEARCH:\r\n        return {\r\n            ...state,\r\n             type:action.typechoose\r\n        }\r\n        case GET_LOCATION:\r\n          return {\r\n              ...state,\r\n               type:action.position\r\n          }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\n//type: types.GET_LOCATION,\r\n//payload: position\r\n\r\nconst byId = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case RECEIVE_PRODUCTS:\r\n      return {\r\n        ...state,\r\n        ...action.products.reduce((obj, product) => {\r\n          obj[product.id_descuento] = product\r\n          return obj\r\n        }, {})\r\n      }\r\n    default:\r\n      \r\n      return state\r\n  }\r\n}\r\n\r\nconst visibleIds = (state = [], action) => {\r\n\r\n  switch (action.type) {\r\n    case RECEIVE_PRODUCTS:\r\n      return action.products.map(product => product.id_descuento)\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default combineReducers({byId, visibleIds,  byTypes})\r\n\r\nexport const getProduct = (state, id) => state.byId[id]\r\n\r\nexport const getType = (state) => state.products.byTypes.type !== undefined ? state.products.byTypes.type:null\r\n\r\nexport const getVisibleProducts = state =>\r\n  state.visibleIds.map(id => getProduct(state, id))\r\n"]},"metadata":{},"sourceType":"module"}